# 📂 목차 접기/펼치기 기능

## 새로운 기능 추가 완료! ✨

### 1️⃣ 개별 접기/펼치기
- **▶ 화살표 버튼**: 상위 목차 앞에 표시
- **▼ 화살표 버튼**: 펼쳐진 상태
- **클릭 동작**: 해당 챕터의 하위 목차를 접거나 펼침

```
▼ 프롤로그: 인류의 숙명, 예측에 대한 갈망
  └─ 왜 우리는 예측하려 하는가?
  └─ 예측의 본능: 생존과 번영을 위한 인류의 역사
  └─ ...

클릭 후 ↓

▶ 프롤로그: 인류의 숙명, 예측에 대한 갈망
```

### 2️⃣ 모두 접기/펼치기 버튼
- **위치**: 목차 상단 우측
- **기능**: 
  - `⊟ 모두 접기` → 모든 하위 목차를 한번에 접기
  - `⊞ 모두 펼치기` → 모든 하위 목차를 한번에 펼치기
- **장점**: 대구조 파악에 용이

### 3️⃣ 부드러운 애니메이션
- 접고 펼칠 때 0.3초 애니메이션
- 투명도 변화로 자연스러운 전환
- 사용자 경험 향상

## 사용 방법

### 📖 기본 사용법

1. **개별 접기/펼치기**
   ```
   상위 목차 앞의 ▶/▼ 버튼 클릭
   → 해당 챕터만 접히거나 펼쳐짐
   ```

2. **전체 제어**
   ```
   우측 상단 "⊟ 모두 접기" 버튼 클릭
   → 모든 하위 목차가 접힘
   → 버튼이 "⊞ 모두 펼치기"로 변경
   
   다시 클릭
   → 모든 하위 목차가 펼쳐짐
   → 버튼이 "⊟ 모두 접기"로 변경
   ```

### 💡 활용 팁

**큰 흐름 파악할 때**
```
1. "⊟ 모두 접기" 클릭
2. 프롤로그, 제1부, 제2부... 등 대구조만 확인
3. 관심 있는 부(部) 클릭하여 펼치기
4. 세부 챕터 확인
```

**집필할 때**
```
1. 작업할 부분만 펼치기
2. 나머지는 접어서 화면 정리
3. 집중력 향상
```

## 작동 화면

### 초기 상태 (모두 펼쳐짐)
```
📖 자유의지 예측                    [⊟ 모두 접기]
├─ ▼ 프롤로그
│   ├─ 왜 우리는 예측하려 하는가?
│   ├─ 예측의 본능
│   └─ ...
├─ ▼ 제1부. '역사주'의 근간
│   ├─ ▼ 무극에서 음양으로
│   │   ├─ 무극의 상태와 시간의 발생
│   │   └─ ...
│   └─ ...
└─ ▼ 제2부. 운과 기
    └─ ...
```

### 모두 접기 후
```
📖 자유의지 예측                    [⊞ 모두 펼치기]
├─ ▶ 프롤로그
├─ ▶ 제1부. '역사주'의 근간
├─ ▶ 제2부. 운과 기
├─ ▶ 제3부. '역사주' 핵심 이론
├─ ▶ 제4부. '역사주'의 다양한 운
├─ ▶ 제5부. '역사주' 예측의 완성
└─ ▶ 에필로그
```

### 일부만 펼친 상태
```
📖 자유의지 예측                    [⊟ 모두 접기]
├─ ▶ 프롤로그
├─ ▼ 제1부. '역사주'의 근간
│   ├─ ▼ 무극에서 음양으로
│   │   ├─ 무극의 상태와 시간의 발생
│   │   ├─ 에너지와 시간
│   │   └─ ...
│   └─ ▶ 고정적이지 않은 오행
├─ ▶ 제2부. 운과 기
└─ ...
```

## 디자인 특징

### 버튼 스타일
- **토글 버튼 (▶/▼)**
  - 크기: 20px × 20px
  - 색상: 회색 (#666)
  - 호버 시: 배경 회색 (#e0e0e0)
  - 애니메이션: 0.2초 전환

- **모두 접기 버튼**
  - 색상: 청회색 (#607D8B)
  - 크기: 작은 버튼 (12px 폰트)
  - 호버 시: 진한 청회색 (#546E7A)

### 애니메이션 효과
- **접기/펼치기**: 0.3초 부드러운 전환
- **투명도 변화**: 자연스러운 페이드 효과
- **최대 높이 조절**: 부드러운 슬라이드

## 기술 상세

### CSS 클래스
```css
.toggle-btn              // 토글 버튼
.toggle-btn.expanded     // 펼쳐진 상태 (▼)
.toggle-btn.collapsed    // 접힌 상태 (▶)
.sub-chapter             // 하위 목차
.sub-chapter.collapsed   // 접힌 하위 목차
```

### JavaScript 함수
```javascript
toggleChapter(button)    // 개별 접기/펼치기
// 모두 접기/펼치기는 이벤트 리스너로 구현
```

## 접속 및 확인

**URL**: http://localhost:3000/index.html

새로고침하면 새로운 기능이 적용된 목차를 확인할 수 있습니다!

## 장점

✅ **가독성 향상**: 큰 흐름을 쉽게 파악
✅ **화면 정리**: 필요한 부분만 표시
✅ **빠른 탐색**: 대구조 → 소구조 순차 탐색
✅ **집중력 향상**: 작업 영역에만 집중
✅ **직관적 UI**: 누구나 쉽게 사용 가능

## 문제 해결

**Q: 버튼이 안 보여요**
A: 새로고침(F5) 해주세요.

**Q: 모두 접기 버튼이 작동하지 않아요**
A: 브라우저 콘솔(F12)에서 오류 확인 후 새로고침 해주세요.

**Q: 애니메이션이 너무 빨라요/느려요**
A: CSS의 `transition: 0.3s`를 원하는 속도로 조정하세요.
